# Https

* Https = Http + SSL/TLS，为了解决http明文传输不安全的问题。

* SSL/TLS:安全协议，主要是用混合加密的方式，用非对称加密+对称加密进行数据传输。 流程如下：

1.服务端用非对称加密生成一对公/密钥，记A和a。将A钥匙传输给客户端。(这里有漏洞)
2.客户端用对称加密生成一把钥匙B，钥匙B用于后续传输数据的解密，并用服务端给的钥匙A，加密这把钥匙B。把加密后的钥匙B传送给服务端，这时候的钥匙B即使被截取了，也是安全的。
3.服务端拿到加密过后的钥匙B，用自己的另一把钥匙a解密，得到真正的钥匙B。
4.之后数据传输都用对称加密，两端都有密钥B，便可以安全的沟通了。

针对1中的漏洞，需要一个第三方的安全中心来避免，防止钥匙A被人偷换。于是出现了一个CA机构，维护了一对钥匙X和x，客户端可以查询到这个权威机构的公钥和证书表，服务端的A不再直接给客户端，而是先传给安全机构，用x加密，生成一个证书。把这个证书传给客户端，客户端检验证书是否可靠，可靠后，先用机构的钥匙解密A，再重复上面的2、3、4流程。

证书被替换怎么办？1.ca证书要钱，成本高。 2.证书的公、秘钥是和服务器网址绑定的，不同的服务器申请到的证书都是不一样的。
